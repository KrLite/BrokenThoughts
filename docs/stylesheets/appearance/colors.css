:root {
  --custom-primary-color: rgb(36, 171, 128);
  --custom-secondary-color: rgb(48, 241, 154);

  --custom-primary-color--t: rgba(36, 171, 128, 0.2);
  --custom-secondary-color--t: rgba(48, 241, 154, 0.2);
}

[data-md-color-scheme="default"] *::selection {
  background: var(--custom-primary-color--t);
}

[data-md-color-scheme="slate"] *::selection {
  background: var(--custom-secondary-color--t);
}

:root {
  --md-primary-fg-color--auto: var(--md-primary-fg-color);
}

[data-md-color-scheme="default"] {
  --md-primary-fg-color--auto: var(--md-primary-fg-color--light);
}

[data-md-color-scheme="slate"] {
  --md-primary-fg-color--auto: var(--md-primary-fg-color--dark);
}

:root {
  --md-primary-fg-color: var(--custom-primary-color);
  --md-primary-fg-color--light: var(--custom-primary-color);
  --md-primary-fg-color--dark: var(--custom-secondary-color);

  --md-accent-fg-color: var(--custom-primary-accent-color);
}

.md-typeset a:not(.footnote-ref, .footnote-backref, .md-content__button.md-icon) {
  color: var(--md-typeset-color);
  padding: 0 0.1em;
  background-image: linear-gradient(
    var(--md-primary-fg-color--auto),
    var(--md-primary-fg-color--auto)
  );
  background-position: 0.1em 100%;
  background-size: calc(100% - 0.2em) 0.2em;
  background-repeat: no-repeat;
  transition: all 0.2s ease;
}

.md-typeset a:not(.footnote-ref, .footnote-backref, .md-content__button.md-icon):hover {
  color: var(--md-default-bg-color);
  background-position: 0% 100%;
  background-size: 100% 100%;
}

.md-typeset a:is(.footnote-ref, .footnote-backref) {
  color: var(--md-primary-fg-color--auto);
}

.md-typeset a:is(.footnote-ref, .footnote-backref):hover {
  color: var(--md-typeset-color);
}

/* Image color transformer */
/* Credit: https://stackoverflow.com/a/76821538 */
.colored {
  display: inline-block;
  background-color: var(--md-primary-fg-color--auto);
  -webkit-mask-size: 95%;
  -webkit-mask-repeat: no-repeat;
  -webkit-mask-position: center;
}

.colored > img {
  opacity: 0;
  width: auto;
  display: block;
}

@media screen {
  [data-md-color-switching] *,
  [data-md-color-switching] :after,
  [data-md-color-switching] :before {
    transition-duration: 0.5s !important;
    transition-delay: 0.1s !important;
  }
}

html,
body {
  -webkit-transition: background-color 0.5s ease 0.1s !important;
  transition: background-color 0.5s ease 0.1s !important;
}

.md-nav__container {
  -webkit-transition: background-color 0.5s ease 0.1s, box-shadow 0.5s ease 0.1s !important;
  transition: background-color 0.5s ease 0.1s, box-shadow 0.5s ease 0.1s !important;
}

.md-nav__link {
  transition: background 0.5s ease 0.1s, box-shadow 0.5s ease 0.1s !important;
}
